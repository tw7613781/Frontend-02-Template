学习笔记

# 1. proxy与双向绑定

## 1.1 基本用法和概念
是vue 3.0的reactive模型的基础。

Object是没有办法加入监听代码去监听其中的属性的，它就是一个不可observe的一个对象。单纯的数据存储。

一个对象，既能够被设置各种属性，然后也能对这些属性监听起来。就可以通过proxy来实现。

proxy对象是个非常强大的对象，它能够拦截原生对象的操作，并且改变这个操作。

# 1.2 应用

模拟实现了vuejs的effect和reactive函数，得到响应式对象。进而得到一个控件与js对象的双向绑定。

控件的值改变的时候来改变对象的值是容易的，只需要在`addEventListener`这里绑定一个事件函数就行了。但是反之就需要响应式对象，也就是用proxy封装过的对象。当这个对象的值改变的时候，触发了proxy的set函数，在set函数中就可以对控件的值进行修改。

reactive函数就是更加优雅的使用proxy来封装对象

# 2. 使用range实现dom的精确操作

利用range和cssom实现一个拖拽，重新排版的功能。

# 2.1 拖拽

拖拽的时候涉及到三个事件，`mouseup`，`mousemove`，`mouseup`。这里有个小技巧。`mouseup`还是在被拖拽的dom元素上监听。但是`mousemove`，`mouseup`是在`document`上监听，即在dom树的根节点上监听。好处就是，即使鼠标飞出了这个dom元素的边界，还是能监听到事件。拖拽的流畅性好一些。不然的话，当鼠标飞出这个dom元素，就不会监听move的事件了。产生拖一下，鼠标飞掉了，元素拖不动的现象。